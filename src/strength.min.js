!function($,window,document,undefined){function Plugin(element,options){this.element=element,this.$elem=$(this.element),this.options=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="strength",defaults={strengthClass:"strength",strengthMeterClass:"strength_meter",strengthButtonClass:"button_strength",strengthButtonText:"Show Password",strengthButtonTextToggle:"Hide Password",showPasswordToggle:!0};Plugin.prototype={init:function(){function GetPercentage(a,b){return b/a*100}function check_strength(thisval,thisid){characters=thisval.length>8?1:-1,capitalletters=thisval.match(upperCase)?1:0,loweletters=thisval.match(lowerCase)?1:0,number=thisval.match(numbers)?1:0,special=thisval.match(specialchars)?1:0;var total=characters+capitalletters+loweletters+number+special;GetPercentage(7,total).toFixed(0);thisval.length||(total=-1),get_total(total,thisid)}function get_total(total,thisid){var thismeter=$('div[data-meter="'+thisid+'"]');1>=total?(thismeter.removeClass(),thismeter.addClass("veryweak").html("very weak")):2==total?(thismeter.removeClass(),thismeter.addClass("weak").html("weak")):3==total?(thismeter.removeClass(),thismeter.addClass("weak").html("weak")):4==total?(thismeter.removeClass(),thismeter.addClass("medium").html("medium")):(thismeter.removeClass(),thismeter.addClass("strong").html("strong")),-1==total&&thismeter.removeClass().html("Strength")}var characters=0,capitalletters=0,loweletters=0,number=0,special=0,upperCase=new RegExp("[A-Z]"),lowerCase=new RegExp("[a-z]"),numbers=new RegExp("[0-9]"),specialchars=new RegExp("([!,%,&,@,#,$,^,*,?,_,~])"),isShown=!1,strengthButtonText=this.options.strengthButtonText,strengthButtonTextToggle=this.options.strengthButtonTextToggle,showPasswordToggle=this.options.showPasswordToggle;thisid=this.$elem.attr("id"),showPasswordToggle?this.$elem.addClass(this.options.strengthClass).attr("data-password",thisid).after('<input style="display:none" class="'+this.options.strengthClass+'" data-password="'+thisid+'" type="text" name="" value=""><a data-password-button="'+thisid+'" href="" class="'+this.options.strengthButtonClass+'">'+this.options.strengthButtonText+'</a><div class="'+this.options.strengthMeterClass+'"><div data-meter="'+thisid+'">Strength</div></div>'):this.$elem.addClass(this.options.strengthClass).attr("data-password",thisid).after('<input style="display:none" class="'+this.options.strengthClass+'" data-password="'+thisid+'" type="text" name="" value=""><div class="'+this.options.strengthMeterClass+'"><div data-meter="'+thisid+'">Strength</div></div>'),this.$elem.bind("keyup keydown",function(event){thisval=$("#"+thisid).val(),$('input[type="text"][data-password="'+thisid+'"]').val(thisval),check_strength(thisval,thisid)}),$('input[type="text"][data-password="'+thisid+'"]').bind("keyup keydown",function(event){thisval=$('input[type="text"][data-password="'+thisid+'"]').val(),console.log(thisval),$('input[type="password"][data-password="'+thisid+'"]').val(thisval),check_strength(thisval,thisid)}),$(document.body).on("click","."+this.options.strengthButtonClass,function(e){e.preventDefault(),thisclass="hide_"+$(this).attr("class"),isShown?($('input[type="text"][data-password="'+thisid+'"]').hide(),$('input[type="password"][data-password="'+thisid+'"]').show().focus(),$('a[data-password-button="'+thisid+'"]').removeClass(thisclass).html(strengthButtonText),isShown=!1):($('input[type="text"][data-password="'+thisid+'"]').show().focus(),$('input[type="password"][data-password="'+thisid+'"]').hide(),$('a[data-password-button="'+thisid+'"]').addClass(thisclass).html(strengthButtonTextToggle),isShown=!0)})},yourOtherFunction:function(el,options){}},$.fn[pluginName]=function(options){return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,options))})}}(jQuery,window,document);